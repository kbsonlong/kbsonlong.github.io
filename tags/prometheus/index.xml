<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Prometheus - 标签 - 蜷缩的蜗牛</title><link>https://www.kbsonlong.com/tags/prometheus/</link><description>云原生时代运维</description><generator>Hugo 0.145.0 &amp; FixIt v0.3.20</generator><language>zh-CN</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Fri, 04 Jul 2025 00:00:00 +0800</lastBuildDate><atom:link href="https://www.kbsonlong.com/tags/prometheus/index.xml" rel="self" type="application/rss+xml"/><item><title>Alloy 指标详解</title><link>https://www.kbsonlong.com/posts/alloy-%E6%8C%87%E6%A0%87%E8%AF%A6%E8%A7%A3/</link><pubDate>Fri, 04 Jul 2025 00:00:00 +0800</pubDate><guid>https://www.kbsonlong.com/posts/alloy-%E6%8C%87%E6%A0%87%E8%AF%A6%E8%A7%A3/</guid><category domain="https://www.kbsonlong.com/categories/%E7%9B%91%E6%8E%A7%E4%BD%93%E7%B3%BB/">监控体系</category><category domain="https://www.kbsonlong.com/categories/logging/">Logging</category><description>&lt;h2 class="heading-element" id="alloy-常用-prometheus-指标详解">&lt;span>Alloy 常用 Prometheus 指标详解&lt;/span>
 &lt;a href="#alloy-%e5%b8%b8%e7%94%a8-prometheus-%e6%8c%87%e6%a0%87%e8%af%a6%e8%a7%a3" class="heading-mark">
 &lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">&lt;path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z">&lt;/path>&lt;/svg>
 &lt;/a>
&lt;/h2>&lt;p>Alloy 作为现代日志采集与处理引擎，内置丰富的 Prometheus 指标，便于对采集链路、资源消耗、进程健康等进行全方位监控。本文详细解析 Alloy 典型监控指标，助力 K8s 日志链路运维和性能分析。&lt;/p></description></item><item><title>Grafana Alloy 指标详解</title><link>https://www.kbsonlong.com/posts/grafana-alloy-%E6%8C%87%E6%A0%87%E8%AF%A6%E8%A7%A3/</link><pubDate>Thu, 16 Jan 2025 15:30:00 +0800</pubDate><guid>https://www.kbsonlong.com/posts/grafana-alloy-%E6%8C%87%E6%A0%87%E8%AF%A6%E8%A7%A3/</guid><category domain="https://www.kbsonlong.com/categories/%E7%9B%91%E6%8E%A7%E4%BD%93%E7%B3%BB/">监控体系</category><category domain="https://www.kbsonlong.com/categories/%E6%97%A5%E5%BF%97/">日志</category><description>&lt;h2 class="heading-element" id="概述">&lt;span>概述&lt;/span>
 &lt;a href="#%e6%a6%82%e8%bf%b0" class="heading-mark">
 &lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">&lt;path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z">&lt;/path>&lt;/svg>
 &lt;/a>
&lt;/h2>&lt;p>Grafana Alloy 通过 Prometheus 指标暴露了丰富的监控数据，涵盖了系统性能、组件状态、配置管理、日志处理等多个维度。本文将详细解释每个指标的含义、用途和监控价值。&lt;/p></description></item><item><title>Karmada Scheduler Prometheus指标详解</title><link>https://www.kbsonlong.com/posts/karmada-scheduler-prometheus%E6%8C%87%E6%A0%87%E8%AF%A6%E8%A7%A3/</link><pubDate>Thu, 19 Dec 2024 10:30:00 +0800</pubDate><guid>https://www.kbsonlong.com/posts/karmada-scheduler-prometheus%E6%8C%87%E6%A0%87%E8%AF%A6%E8%A7%A3/</guid><category domain="https://www.kbsonlong.com/categories/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</category><category domain="https://www.kbsonlong.com/categories/%E5%A4%9A%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86/">多集群管理</category><description>&lt;h2 class="heading-element" id="karmada-scheduler-prometheus指标详解">&lt;span>Karmada Scheduler Prometheus指标详解&lt;/span>
 &lt;a href="#karmada-scheduler-prometheus%e6%8c%87%e6%a0%87%e8%af%a6%e8%a7%a3" class="heading-mark">
 &lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">&lt;path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z">&lt;/path>&lt;/svg>
 &lt;/a>
&lt;/h2>&lt;p>Karmada Scheduler是Karmada多集群管理平台的核心调度组件，负责将工作负载调度到合适的集群。本文详细解释其Prometheus监控指标的含义和用途。&lt;/p></description></item><item><title>Karmada Webhook Prometheus 指标详解</title><link>https://www.kbsonlong.com/posts/karmada-webhook-prometheus-%E6%8C%87%E6%A0%87%E8%AF%A6%E8%A7%A3/</link><pubDate>Thu, 19 Dec 2024 10:30:00 +0800</pubDate><guid>https://www.kbsonlong.com/posts/karmada-webhook-prometheus-%E6%8C%87%E6%A0%87%E8%AF%A6%E8%A7%A3/</guid><category domain="https://www.kbsonlong.com/categories/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</category><category domain="https://www.kbsonlong.com/categories/%E5%A4%9A%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86/">多集群管理</category><description>&lt;h2 class="heading-element" id="概述">&lt;span>概述&lt;/span>
 &lt;a href="#%e6%a6%82%e8%bf%b0" class="heading-mark">
 &lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">&lt;path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z">&lt;/path>&lt;/svg>
 &lt;/a>
&lt;/h2>&lt;p>Karmada Webhook 是 Karmada 多集群管理系统中的重要组件，负责处理准入控制（Admission Control）请求。本文档详细解释了 Karmada Webhook 组件暴露的 Prometheus 监控指标，帮助运维人员更好地监控和维护 Karmada 系统。&lt;/p></description></item><item><title>Karmada控制器Prometheus指标详解</title><link>https://www.kbsonlong.com/posts/karmada%E6%8E%A7%E5%88%B6%E5%99%A8prometheus%E6%8C%87%E6%A0%87%E8%AF%A6%E8%A7%A3/</link><pubDate>Thu, 19 Dec 2024 10:30:00 +0800</pubDate><guid>https://www.kbsonlong.com/posts/karmada%E6%8E%A7%E5%88%B6%E5%99%A8prometheus%E6%8C%87%E6%A0%87%E8%AF%A6%E8%A7%A3/</guid><category domain="https://www.kbsonlong.com/categories/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</category><category domain="https://www.kbsonlong.com/categories/%E5%A4%9A%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86/">多集群管理</category><description>&lt;h2 class="heading-element" id="karmada控制器prometheus指标详解">&lt;span>Karmada控制器Prometheus指标详解&lt;/span>
 &lt;a href="#karmada%e6%8e%a7%e5%88%b6%e5%99%a8prometheus%e6%8c%87%e6%a0%87%e8%af%a6%e8%a7%a3" class="heading-mark">
 &lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">&lt;path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z">&lt;/path>&lt;/svg>
 &lt;/a>
&lt;/h2>&lt;p>本文档详细解释了Karmada控制器暴露的Prometheus指标，这些指标对于监控和运维Karmada多集群管理系统至关重要。&lt;/p></description></item><item><title>Fluent Bit Kafka 队列监控与故障排查指南</title><link>https://www.kbsonlong.com/posts/fluent-bit-kafka-%E9%98%9F%E5%88%97%E7%9B%91%E6%8E%A7%E4%B8%8E%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5%E6%8C%87%E5%8D%97/</link><pubDate>Thu, 19 Dec 2024 10:00:00 +0800</pubDate><guid>https://www.kbsonlong.com/posts/fluent-bit-kafka-%E9%98%9F%E5%88%97%E7%9B%91%E6%8E%A7%E4%B8%8E%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5%E6%8C%87%E5%8D%97/</guid><category domain="https://www.kbsonlong.com/categories/%E7%9B%91%E6%8E%A7%E4%BD%93%E7%B3%BB/">监控体系</category><category domain="https://www.kbsonlong.com/categories/%E6%97%A5%E5%BF%97/">日志</category><description>&lt;h2 class="heading-element" id="概述">&lt;span>概述&lt;/span>
 &lt;a href="#%e6%a6%82%e8%bf%b0" class="heading-mark">
 &lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">&lt;path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z">&lt;/path>&lt;/svg>
 &lt;/a>
&lt;/h2>&lt;p>在云原生环境中，Fluent Bit 作为轻量级的日志收集器，经常与 Kafka 配合使用来构建高可用的日志处理管道。当遇到 Kafka 生产者 &lt;code>Local: Queue full&lt;/code> 错误时，需要通过系统化的监控和分析方法来快速定位问题根因。&lt;/p></description></item><item><title>Prometheus Operator 常用指标</title><link>https://www.kbsonlong.com/posts/prometheus-operator-commonly-used-indicators/</link><pubDate>Tue, 13 Sep 2022 17:53:07 +0800</pubDate><guid>https://www.kbsonlong.com/posts/prometheus-operator-commonly-used-indicators/</guid><category domain="https://www.kbsonlong.com/categories/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</category><description>&lt;p>Prometheus Operator 安装完成后会有很多默认的监控指标，一不注意就大量的报警产生，所以我们非常有必要了解下这些常用的监控指标，有部分指标很有可能对于我们自己的业务可有可无，所以可以适当的进行修改，这里我们就来对常用的几个指标进行简单的说明。&lt;/p>
&lt;h2 class="heading-element" id="1-kubernetes-资源相关">&lt;span>1. Kubernetes 资源相关&lt;/span>
 &lt;a href="#1-kubernetes-%e8%b5%84%e6%ba%90%e7%9b%b8%e5%85%b3" class="heading-mark">
 &lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">&lt;path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z">&lt;/path>&lt;/svg>
 &lt;/a>
&lt;/h2>&lt;h3 class="heading-element" id="11-cputhrottlinghigh">&lt;span>1.1 CPUThrottlingHigh&lt;/span>
 &lt;a href="#11-cputhrottlinghigh" class="heading-mark">
 &lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">&lt;path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z">&lt;/path>&lt;/svg>
 &lt;/a>
&lt;/h3>&lt;p>关于 CPU 的 limit 合理性指标。查出最近5分钟，超过25%的 CPU 执行周期受到限制的容器。表达式：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">increase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">container_cpu_cfs_throttled_periods_total&lt;/span>&lt;span class="err">{&lt;/span>&lt;span class="n">container&lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">}&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">]))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">container&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pod&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">namespace&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">increase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">container_cpu_cfs_periods_total&lt;/span>&lt;span class="err">{}&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">]))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">container&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pod&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">namespace&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">25&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">)&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>相关指标：&lt;/p>
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>container_cpu_cfs_periods_total：容器生命周期中度过的 cpu 周期总数&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>container_cpu_cfs_throttled_periods_total：容器生命周期中度过的受限的 cpu 周期总数&lt;/li>
&lt;/ul></description></item></channel></rss>