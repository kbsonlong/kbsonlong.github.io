<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Grafana API导出仪表板使用示例 - 蜷缩的蜗牛</title><meta name=author content>
<meta name=description content="Grafana API导出仪表板使用示例 快速开始 1. 获取API密钥 首先需要在Grafana中创建API密钥：
"><meta name=keywords content='Grafana,API,示例,脚本'><meta itemprop=name content="Grafana API导出仪表板使用示例"><meta itemprop=description content="Grafana API导出仪表板使用示例 快速开始 1. 获取API密钥 首先需要在Grafana中创建API密钥："><meta itemprop=datePublished content="2024-12-19T11:00:00+08:00"><meta itemprop=dateModified content="2024-12-19T11:00:00+08:00"><meta itemprop=wordCount content="2303"><meta itemprop=image content="https://www.kbsonlong.com/logo_transparent.png"><meta itemprop=keywords content="Grafana,API,示例,脚本"><meta property="og:url" content="https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/"><meta property="og:site_name" content="蜷缩的蜗牛"><meta property="og:title" content="Grafana API导出仪表板使用示例"><meta property="og:description" content="Grafana API导出仪表板使用示例 快速开始 1. 获取API密钥 首先需要在Grafana中创建API密钥："><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-19T11:00:00+08:00"><meta property="article:modified_time" content="2024-12-19T11:00:00+08:00"><meta property="article:tag" content="Grafana"><meta property="article:tag" content="API"><meta property="article:tag" content="示例"><meta property="article:tag" content="脚本"><meta property="og:image" content="https://www.kbsonlong.com/logo_transparent.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.kbsonlong.com/logo_transparent.png"><meta name=twitter:title content="Grafana API导出仪表板使用示例"><meta name=twitter:description content="Grafana API导出仪表板使用示例 快速开始 1. 获取API密钥 首先需要在Grafana中创建API密钥："><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color data-light=#ffffff data-dark=#252627 content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical type=text/html href=https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/ title="Grafana API导出仪表板使用示例 - 蜷缩的蜗牛"><link rel=prev type=text/html href=https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97/ title="Grafana API导出仪表板完整指南"><link rel=next type=text/html href=https://www.kbsonlong.com/posts/grafana-alloy-discovery.kubernetes-%E9%85%8D%E7%BD%AE%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5%E6%8C%87%E5%8D%97/ title="Grafana Alloy discovery.kubernetes 配置故障排查指南"><link rel=alternate type=text/markdown href=https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/index.md title="Grafana API导出仪表板使用示例 - 蜷缩的蜗牛"><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Grafana API导出仪表板使用示例","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.kbsonlong.com\/posts\/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B\/"},"genre":"posts","keywords":"Grafana, API, 示例, 脚本","wordcount":2303,"url":"https:\/\/www.kbsonlong.com\/posts\/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B\/","datePublished":"2024-12-19T11:00:00+08:00","dateModified":"2024-12-19T11:00:00+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"作者"},"description":""}</script><script src=/js/head/color-scheme.min.js></script></head><body data-header-desktop=sticky data-header-mobile=auto><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=/ title=蜷缩的蜗牛><img class=logo src=/logo_transparent.png alt=蜷缩的蜗牛 height=32 width=32><span class=header-title-text>蜷缩的蜗牛</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/><i class='fa-solid fa-archive fa-fw fa-sm'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class='fa-solid fa-th fa-fw fa-sm'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class='fa-solid fa-tags fa-fw fa-sm'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/friends/ title=友情链接><i class='fa-solid fa-users fa-fw fa-sm'></i> 友链</a></li><li class=menu-item><a class=menu-link href=/about/><i class='fa-solid fa-info-circle fa-fw fa-sm'></i> 关于</a></li><li class="menu-item d-none-desktop text-center"><a class=menu-link href=https://github.com/kbsonlong/ title=GitHub rel="noopener noreferrer" target=_blank><i class='fa-brands fa-github fa-fw'></i></a></li><li class="menu-item d-none-desktop text-center"><a class=menu-link href=/messages/><i class='fa-solid fa-messages'></i> 留言板</a></li><li class=menu-item><a class=menu-link href=/messages/ title=留言板>留言板</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class="menu-item language-switch"><span role=button aria-label=选择语言 title=选择语言><i class="fa-solid fa-language fa-fw" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item>没有更多翻译</li></ul></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=蜷缩的蜗牛><img class=logo src=/logo_transparent.png alt=蜷缩的蜗牛 height=26 width=26><span class=header-title-text>蜷缩的蜗牛</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/posts/><i class='fa-solid fa-archive fa-fw fa-sm'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class='fa-solid fa-th fa-fw fa-sm'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class='fa-solid fa-tags fa-fw fa-sm'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/friends/ title=友情链接><i class='fa-solid fa-users fa-fw fa-sm'></i> 友链</a></li><li class=menu-item><a class=menu-link href=/about/><i class='fa-solid fa-info-circle fa-fw fa-sm'></i> 关于</a></li><li class="menu-item d-none-desktop text-center"><a class=menu-link href=https://github.com/kbsonlong/ title=GitHub rel="noopener noreferrer" target=_blank><i class='fa-brands fa-github fa-fw'></i></a></li><li class="menu-item d-none-desktop text-center"><a class=menu-link href=/messages/><i class='fa-solid fa-messages'></i> 留言板</a></li><li class=menu-item><a class=menu-link href=/messages/ title=留言板>留言板</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span><span class="menu-system-item language-switch">
<span role=button aria-label=选择语言 title=选择语言>简体中文<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span>
<select class=language-select onchange="location=this.value"><option disabled>没有更多翻译</option></select></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label=合集></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Grafana API导出仪表板使用示例</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
Anonymous</span></span><span class=post-included-in>&nbsp;收录于 <a href=/categories/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ class=post-category title="分类 - 运维工具"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> 运维工具</a></span></div><div class=post-meta-line><span title="发布于 2024-12-19 11:00:00"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden=true></i><time datetime=2024-12-19>2024-12-19</time></span>&nbsp;<span title="2303 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 2400 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 5 分钟</span>&nbsp;<span id=busuanzi_container_page_pv class="busuanzi_visitors comment-visitors" data-flag-title="Grafana API导出仪表板使用示例"><i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_page_pv>-</span>&nbsp;次阅读
</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#快速开始>快速开始</a><ul><li><a href=#1-获取api密钥>1. 获取API密钥</a></li><li><a href=#2-设置环境变量>2. 设置环境变量</a></li></ul></li><li><a href=#使用bash脚本>使用Bash脚本</a><ul><li><a href=#基本用法>基本用法</a></li><li><a href=#高级用法>高级用法</a></li><li><a href=#脚本输出示例>脚本输出示例</a></li></ul></li><li><a href=#使用python脚本>使用Python脚本</a><ul><li><a href=#安装依赖>安装依赖</a></li><li><a href=#基本用法-1>基本用法</a></li><li><a href=#高级用法-1>高级用法</a></li><li><a href=#python脚本输出示例>Python脚本输出示例</a></li></ul></li><li><a href=#直接使用curl命令>直接使用curl命令</a><ul><li><a href=#快速导出单个仪表板>快速导出单个仪表板</a></li><li><a href=#批量导出所有仪表板>批量导出所有仪表板</a></li></ul></li><li><a href=#导出结果结构>导出结果结构</a><ul><li><a href=#目录结构>目录结构</a></li><li><a href=#仪表板json格式>仪表板JSON格式</a></li></ul></li><li><a href=#常见问题解决>常见问题解决</a><ul><li><a href=#1-api密钥权限不足>1. API密钥权限不足</a></li><li><a href=#2-网络连接问题>2. 网络连接问题</a></li><li><a href=#3-依赖缺失>3. 依赖缺失</a></li><li><a href=#4-文件权限问题>4. 文件权限问题</a></li></ul></li><li><a href=#自动化和定时任务>自动化和定时任务</a><ul><li><a href=#1-创建定时备份>1. 创建定时备份</a></li><li><a href=#2-集成到cicd>2. 集成到CI/CD</a></li><li><a href=#3-docker化部署>3. Docker化部署</a></li></ul></li><li><a href=#最佳实践>最佳实践</a></li></ul></nav></div></div><div class=content id=content><h2 class=heading-element id=grafana-api导出仪表板使用示例><span>Grafana API导出仪表板使用示例</span>
<a href=#grafana-api%e5%af%bc%e5%87%ba%e4%bb%aa%e8%a1%a8%e6%9d%bf%e4%bd%bf%e7%94%a8%e7%a4%ba%e4%be%8b class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h2 class=heading-element id=快速开始><span>快速开始</span>
<a href=#%e5%bf%ab%e9%80%9f%e5%bc%80%e5%a7%8b class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=1-获取api密钥><span>1. 获取API密钥</span>
<a href=#1-%e8%8e%b7%e5%8f%96api%e5%af%86%e9%92%a5 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>首先需要在Grafana中创建API密钥：</p><ol><li>登录Grafana管理界面</li><li>访问 <code>Configuration > API Keys</code></li><li>点击 <code>New API Key</code></li><li>设置名称为 &ldquo;dashboard-export&rdquo;，权限选择 &ldquo;Admin&rdquo;</li><li>复制生成的API密钥</li></ol><h3 class=heading-element id=2-设置环境变量><span>2. 设置环境变量</span>
<a href=#2-%e8%ae%be%e7%bd%ae%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 设置Grafana连接信息</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GRAFANA_URL</span><span class=o>=</span><span class=s2>&#34;http://localhost:3000&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GRAFANA_API_KEY</span><span class=o>=</span><span class=s2>&#34;eyJrIjoiYWJjZGVmZ2hpams...&#34;</span></span></span></code></pre></td></tr></table></div></div><h2 class=heading-element id=使用bash脚本><span>使用Bash脚本</span>
<a href=#%e4%bd%bf%e7%94%a8bash%e8%84%9a%e6%9c%ac class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=基本用法><span>基本用法</span>
<a href=#%e5%9f%ba%e6%9c%ac%e7%94%a8%e6%b3%95 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 导出所有仪表板</span>
</span></span><span class=line><span class=cl>./export-dashboards.sh --api-key <span class=nv>$GRAFANA_API_KEY</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用环境变量</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GRAFANA_API_KEY</span><span class=o>=</span><span class=s2>&#34;your-api-key&#34;</span>
</span></span><span class=line><span class=cl>./export-dashboards.sh</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=高级用法><span>高级用法</span>
<a href=#%e9%ab%98%e7%ba%a7%e7%94%a8%e6%b3%95 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 导出特定文件夹的仪表板</span>
</span></span><span class=line><span class=cl>./export-dashboards.sh --folder <span class=s2>&#34;Production&#34;</span> --api-key <span class=nv>$GRAFANA_API_KEY</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 按标签过滤导出</span>
</span></span><span class=line><span class=cl>./export-dashboards.sh --tag <span class=s2>&#34;monitoring&#34;</span> --api-key <span class=nv>$GRAFANA_API_KEY</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 包含权限信息</span>
</span></span><span class=line><span class=cl>./export-dashboards.sh --permissions --api-key <span class=nv>$GRAFANA_API_KEY</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 详细输出模式</span>
</span></span><span class=line><span class=cl>./export-dashboards.sh --verbose --api-key <span class=nv>$GRAFANA_API_KEY</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 自定义输出目录</span>
</span></span><span class=line><span class=cl>./export-dashboards.sh --output ./my-backups --api-key <span class=nv>$GRAFANA_API_KEY</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 组合使用</span>
</span></span><span class=line><span class=cl>./export-dashboards.sh <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --url http://grafana.example.com <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --api-key <span class=nv>$GRAFANA_API_KEY</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --folder <span class=s2>&#34;Production&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --permissions <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --verbose <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --output ./prod-backup</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=脚本输出示例><span>脚本输出示例</span>
<a href=#%e8%84%9a%e6%9c%ac%e8%be%93%e5%87%ba%e7%a4%ba%e4%be%8b class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ./export-dashboards.sh --api-key <span class=nv>$GRAFANA_API_KEY</span>
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> 导出目录: ./grafana-exports/export_20241219_110000
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> 测试Grafana连接...
</span></span><span class=line><span class=cl><span class=o>[</span>SUCCESS<span class=o>]</span> 连接成功! 用户: admin, 组织: 1, 权限: Admin
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> 获取文件夹列表...
</span></span><span class=line><span class=cl><span class=o>[</span>SUCCESS<span class=o>]</span> 找到 <span class=m>3</span> 个文件夹 <span class=o>(</span>包括根文件夹<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> 导出数据源配置...
</span></span><span class=line><span class=cl><span class=o>[</span>SUCCESS<span class=o>]</span> 数据源配置已导出: <span class=m>2</span> 个数据源
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> 获取仪表板列表...
</span></span><span class=line><span class=cl><span class=o>[</span>SUCCESS<span class=o>]</span> 找到 <span class=m>5</span> 个仪表板
</span></span><span class=line><span class=cl><span class=o>[</span>1/5<span class=o>]</span> <span class=o>[</span>INFO<span class=o>]</span> 导出仪表板: System Overview <span class=o>(</span>UID: sys-overview<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>SUCCESS<span class=o>]</span> 导出成功: System_Overview_sys-overview.json
</span></span><span class=line><span class=cl><span class=o>[</span>2/5<span class=o>]</span> <span class=o>[</span>INFO<span class=o>]</span> 导出仪表板: Network Monitoring <span class=o>(</span>UID: net-mon<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>SUCCESS<span class=o>]</span> 导出成功: Network_Monitoring_net-mon.json
</span></span><span class=line><span class=cl><span class=o>[</span>3/5<span class=o>]</span> <span class=o>[</span>INFO<span class=o>]</span> 导出仪表板: Application Metrics <span class=o>(</span>UID: app-metrics<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>SUCCESS<span class=o>]</span> 导出成功: Application_Metrics_app-metrics.json
</span></span><span class=line><span class=cl><span class=o>[</span>4/5<span class=o>]</span> <span class=o>[</span>INFO<span class=o>]</span> 导出仪表板: Database Performance <span class=o>(</span>UID: db-perf<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>SUCCESS<span class=o>]</span> 导出成功: Database_Performance_db-perf.json
</span></span><span class=line><span class=cl><span class=o>[</span>5/5<span class=o>]</span> <span class=o>[</span>INFO<span class=o>]</span> 导出仪表板: Custom Dashboard <span class=o>(</span>UID: custom-dash<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>SUCCESS<span class=o>]</span> 导出成功: Custom_Dashboard_custom-dash.json
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> 生成导出报告...
</span></span><span class=line><span class=cl><span class=o>[</span>SUCCESS<span class=o>]</span> 导出报告已生成: ./grafana-exports/export_20241219_110000/export_report.md
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>===========================================</span>
</span></span><span class=line><span class=cl><span class=o>[</span>SUCCESS<span class=o>]</span> 导出完成!
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> 成功导出: 5/5 个仪表板
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> 导出目录: ./grafana-exports/export_20241219_110000
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> 查看报告: ./grafana-exports/export_20241219_110000/export_report.md</span></span></code></pre></td></tr></table></div></div><h2 class=heading-element id=使用python脚本><span>使用Python脚本</span>
<a href=#%e4%bd%bf%e7%94%a8python%e8%84%9a%e6%9c%ac class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=安装依赖><span>安装依赖</span>
<a href=#%e5%ae%89%e8%a3%85%e4%be%9d%e8%b5%96 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 安装requests库</span>
</span></span><span class=line><span class=cl>pip3 install requests</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=基本用法-1><span>基本用法</span>
<a href=#%e5%9f%ba%e6%9c%ac%e7%94%a8%e6%b3%95-1 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 导出所有仪表板</span>
</span></span><span class=line><span class=cl>python3 export-grafana-dashboards.py --api-key <span class=nv>$GRAFANA_API_KEY</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用环境变量</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GRAFANA_API_KEY</span><span class=o>=</span><span class=s2>&#34;your-api-key&#34;</span>
</span></span><span class=line><span class=cl>python3 export-grafana-dashboards.py</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=高级用法-1><span>高级用法</span>
<a href=#%e9%ab%98%e7%ba%a7%e7%94%a8%e6%b3%95-1 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 导出特定文件夹</span>
</span></span><span class=line><span class=cl>python3 export-grafana-dashboards.py <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --api-key <span class=nv>$GRAFANA_API_KEY</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --folder <span class=s2>&#34;Production&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 按标签过滤</span>
</span></span><span class=line><span class=cl>python3 export-grafana-dashboards.py <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --api-key <span class=nv>$GRAFANA_API_KEY</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --tag <span class=s2>&#34;monitoring&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 包含权限信息</span>
</span></span><span class=line><span class=cl>python3 export-grafana-dashboards.py <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --api-key <span class=nv>$GRAFANA_API_KEY</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --include-permissions
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 不导出数据源和告警</span>
</span></span><span class=line><span class=cl>python3 export-grafana-dashboards.py <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --api-key <span class=nv>$GRAFANA_API_KEY</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --no-datasources <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --no-alerts
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 详细输出</span>
</span></span><span class=line><span class=cl>python3 export-grafana-dashboards.py <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --api-key <span class=nv>$GRAFANA_API_KEY</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --verbose
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 完整示例</span>
</span></span><span class=line><span class=cl>python3 export-grafana-dashboards.py <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --url http://grafana.example.com <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --api-key <span class=nv>$GRAFANA_API_KEY</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --output ./backups <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --folder <span class=s2>&#34;Production&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --include-permissions <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --timeout <span class=m>60</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --verbose</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=python脚本输出示例><span>Python脚本输出示例</span>
<a href=#python%e8%84%9a%e6%9c%ac%e8%be%93%e5%87%ba%e7%a4%ba%e4%be%8b class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ python3 export-grafana-dashboards.py --api-key <span class=nv>$GRAFANA_API_KEY</span>
</span></span><span class=line><span class=cl>导出目录: ./grafana-exports/export_20241219_110000
</span></span><span class=line><span class=cl>开始导出Grafana配置...
</span></span><span class=line><span class=cl>Grafana URL: http://localhost:3000
</span></span><span class=line><span class=cl>测试Grafana连接...
</span></span><span class=line><span class=cl>✓ 连接成功! 用户: admin
</span></span><span class=line><span class=cl>  组织: <span class=m>1</span>
</span></span><span class=line><span class=cl>  权限: Admin
</span></span><span class=line><span class=cl>获取文件夹列表...
</span></span><span class=line><span class=cl>找到 <span class=m>3</span> 个文件夹 <span class=o>(</span>包括根文件夹<span class=o>)</span>
</span></span><span class=line><span class=cl>导出数据源配置...
</span></span><span class=line><span class=cl>✓ 数据源配置已导出: <span class=m>2</span> 个数据源
</span></span><span class=line><span class=cl>导出告警规则...
</span></span><span class=line><span class=cl>✓ 告警规则已导出: <span class=m>1</span> 个规则
</span></span><span class=line><span class=cl>获取仪表板列表...
</span></span><span class=line><span class=cl>找到 <span class=m>5</span> 个仪表板
</span></span><span class=line><span class=cl><span class=o>[</span>1/5<span class=o>]</span> 导出仪表板: System Overview <span class=o>(</span>UID: sys-overview<span class=o>)</span>
</span></span><span class=line><span class=cl>  ✓ 导出成功: General/System_Overview_sys-overview.json
</span></span><span class=line><span class=cl><span class=o>[</span>2/5<span class=o>]</span> 导出仪表板: Network Monitoring <span class=o>(</span>UID: net-mon<span class=o>)</span>
</span></span><span class=line><span class=cl>  ✓ 导出成功: Production/Network_Monitoring_net-mon.json
</span></span><span class=line><span class=cl><span class=o>[</span>3/5<span class=o>]</span> 导出仪表板: Application Metrics <span class=o>(</span>UID: app-metrics<span class=o>)</span>
</span></span><span class=line><span class=cl>  ✓ 导出成功: Production/Application_Metrics_app-metrics.json
</span></span><span class=line><span class=cl><span class=o>[</span>4/5<span class=o>]</span> 导出仪表板: Database Performance <span class=o>(</span>UID: db-perf<span class=o>)</span>
</span></span><span class=line><span class=cl>  ✓ 导出成功: Development/Database_Performance_db-perf.json
</span></span><span class=line><span class=cl><span class=o>[</span>5/5<span class=o>]</span> 导出仪表板: Custom Dashboard <span class=o>(</span>UID: custom-dash<span class=o>)</span>
</span></span><span class=line><span class=cl>  ✓ 导出成功: General/Custom_Dashboard_custom-dash.json
</span></span><span class=line><span class=cl>✓ 导出报告已生成: ./grafana-exports/export_20241219_110000/export_report.md
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>==================================================</span>
</span></span><span class=line><span class=cl>导出完成!
</span></span><span class=line><span class=cl>成功导出: 5/5 个仪表板
</span></span><span class=line><span class=cl>导出目录: ./grafana-exports/export_20241219_110000
</span></span><span class=line><span class=cl>查看报告: ./grafana-exports/export_20241219_110000/export_report.md</span></span></code></pre></td></tr></table></div></div><h2 class=heading-element id=直接使用curl命令><span>直接使用curl命令</span>
<a href=#%e7%9b%b4%e6%8e%a5%e4%bd%bf%e7%94%a8curl%e5%91%bd%e4%bb%a4 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=快速导出单个仪表板><span>快速导出单个仪表板</span>
<a href=#%e5%bf%ab%e9%80%9f%e5%af%bc%e5%87%ba%e5%8d%95%e4%b8%aa%e4%bb%aa%e8%a1%a8%e6%9d%bf class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 通过UID导出</span>
</span></span><span class=line><span class=cl>curl -H <span class=s2>&#34;Authorization: Bearer </span><span class=nv>$GRAFANA_API_KEY</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>     <span class=s2>&#34;</span><span class=nv>$GRAFANA_URL</span><span class=s2>/api/dashboards/uid/dashboard-uid&#34;</span> <span class=p>|</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>     jq <span class=s1>&#39;.dashboard&#39;</span> &gt; dashboard.json
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 通过slug导出</span>
</span></span><span class=line><span class=cl>curl -H <span class=s2>&#34;Authorization: Bearer </span><span class=nv>$GRAFANA_API_KEY</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>     <span class=s2>&#34;</span><span class=nv>$GRAFANA_URL</span><span class=s2>/api/dashboards/db/dashboard-slug&#34;</span> <span class=p>|</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>     jq <span class=s1>&#39;.dashboard&#39;</span> &gt; dashboard.json</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=批量导出所有仪表板><span>批量导出所有仪表板</span>
<a href=#%e6%89%b9%e9%87%8f%e5%af%bc%e5%87%ba%e6%89%80%e6%9c%89%e4%bb%aa%e8%a1%a8%e6%9d%bf class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># 简单的批量导出脚本</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>GRAFANA_URL</span><span class=o>=</span><span class=s2>&#34;http://localhost:3000&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>GRAFANA_API_KEY</span><span class=o>=</span><span class=s2>&#34;your-api-key&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>OUTPUT_DIR</span><span class=o>=</span><span class=s2>&#34;./quick-export&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>mkdir -p <span class=s2>&#34;</span><span class=nv>$OUTPUT_DIR</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 获取所有仪表板UID</span>
</span></span><span class=line><span class=cl>curl -s -H <span class=s2>&#34;Authorization: Bearer </span><span class=nv>$GRAFANA_API_KEY</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>     <span class=s2>&#34;</span><span class=nv>$GRAFANA_URL</span><span class=s2>/api/search?type=dash-db&#34;</span> <span class=p>|</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>     jq -r <span class=s1>&#39;.[] | .uid&#39;</span> <span class=p>|</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=k>while</span> <span class=nb>read</span> uid<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;导出仪表板: </span><span class=nv>$uid</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    curl -s -H <span class=s2>&#34;Authorization: Bearer </span><span class=nv>$GRAFANA_API_KEY</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>         <span class=s2>&#34;</span><span class=nv>$GRAFANA_URL</span><span class=s2>/api/dashboards/uid/</span><span class=nv>$uid</span><span class=s2>&#34;</span> <span class=p>|</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>         jq <span class=s1>&#39;.dashboard&#39;</span> &gt; <span class=s2>&#34;</span><span class=nv>$OUTPUT_DIR</span><span class=s2>/dashboard_</span><span class=nv>$uid</span><span class=s2>.json&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;导出完成，文件保存在: </span><span class=nv>$OUTPUT_DIR</span><span class=s2>&#34;</span></span></span></code></pre></td></tr></table></div></div><h2 class=heading-element id=导出结果结构><span>导出结果结构</span>
<a href=#%e5%af%bc%e5%87%ba%e7%bb%93%e6%9e%9c%e7%bb%93%e6%9e%84 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=目录结构><span>目录结构</span>
<a href=#%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>grafana</span><span class=o>-</span><span class=n>exports</span><span class=o>/</span>
</span></span><span class=line><span class=cl><span class=err>└──</span> <span class=n>export_20241219_110000</span><span class=o>/</span>
</span></span><span class=line><span class=cl>    <span class=err>├──</span> <span class=n>folders</span><span class=o>.</span><span class=n>json</span>                    <span class=c1># 文件夹信息</span>
</span></span><span class=line><span class=cl>    <span class=err>├──</span> <span class=n>datasources</span><span class=o>.</span><span class=n>json</span>               <span class=c1># 数据源配置</span>
</span></span><span class=line><span class=cl>    <span class=err>├──</span> <span class=n>alerts</span><span class=o>.</span><span class=n>json</span>                    <span class=c1># 告警规则</span>
</span></span><span class=line><span class=cl>    <span class=err>├──</span> <span class=n>export_report</span><span class=o>.</span><span class=n>md</span>               <span class=c1># 导出报告</span>
</span></span><span class=line><span class=cl>    <span class=err>├──</span> <span class=n>General</span><span class=o>/</span>                       <span class=c1># 根文件夹</span>
</span></span><span class=line><span class=cl>    <span class=err>│</span>   <span class=err>├──</span> <span class=n>System_Overview_sys</span><span class=o>-</span><span class=n>overview</span><span class=o>.</span><span class=n>json</span>
</span></span><span class=line><span class=cl>    <span class=err>│</span>   <span class=err>└──</span> <span class=n>Custom_Dashboard_custom</span><span class=o>-</span><span class=n>dash</span><span class=o>.</span><span class=n>json</span>
</span></span><span class=line><span class=cl>    <span class=err>├──</span> <span class=n>Production</span><span class=o>/</span>                    <span class=c1># 生产环境文件夹</span>
</span></span><span class=line><span class=cl>    <span class=err>│</span>   <span class=err>├──</span> <span class=n>Network_Monitoring_net</span><span class=o>-</span><span class=n>mon</span><span class=o>.</span><span class=n>json</span>
</span></span><span class=line><span class=cl>    <span class=err>│</span>   <span class=err>└──</span> <span class=n>Application_Metrics_app</span><span class=o>-</span><span class=n>metrics</span><span class=o>.</span><span class=n>json</span>
</span></span><span class=line><span class=cl>    <span class=err>└──</span> <span class=n>Development</span><span class=o>/</span>                   <span class=c1># 开发环境文件夹</span>
</span></span><span class=line><span class=cl>        <span class=err>└──</span> <span class=n>Database_Performance_db</span><span class=o>-</span><span class=n>perf</span><span class=o>.</span><span class=n>json</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=仪表板json格式><span>仪表板JSON格式</span>
<a href=#%e4%bb%aa%e8%a1%a8%e6%9d%bfjson%e6%a0%bc%e5%bc%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;dashboard&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;id&#34;</span><span class=p>:</span> <span class=kc>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;uid&#34;</span><span class=p>:</span> <span class=s2>&#34;sys-overview&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;System Overview&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;tags&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;system&#34;</span><span class=p>,</span> <span class=s2>&#34;monitoring&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;timezone&#34;</span><span class=p>:</span> <span class=s2>&#34;browser&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;panels&#34;</span><span class=p>:</span> <span class=p>[</span><span class=err>...</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;time&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;from&#34;</span><span class=p>:</span> <span class=s2>&#34;now-6h&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;to&#34;</span><span class=p>:</span> <span class=s2>&#34;now&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;timepicker&#34;</span><span class=p>:</span> <span class=p>{</span><span class=err>...</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;templating&#34;</span><span class=p>:</span> <span class=p>{</span><span class=err>...</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;annotations&#34;</span><span class=p>:</span> <span class=p>{</span><span class=err>...</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;refresh&#34;</span><span class=p>:</span> <span class=s2>&#34;30s&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;schemaVersion&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;db&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;canSave&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;canEdit&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;canAdmin&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;canStar&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;slug&#34;</span><span class=p>:</span> <span class=s2>&#34;system-overview&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;/d/sys-overview/system-overview&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;expires&#34;</span><span class=p>:</span> <span class=s2>&#34;0001-01-01T00:00:00Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;created&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-01-01T00:00:00Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;updated&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-12-19T10:00:00Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;updatedBy&#34;</span><span class=p>:</span> <span class=s2>&#34;admin&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;createdBy&#34;</span><span class=p>:</span> <span class=s2>&#34;admin&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;hasAcl&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;isFolder&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;folderId&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;folderUid&#34;</span><span class=p>:</span> <span class=s2>&#34;prod-folder&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;folderTitle&#34;</span><span class=p>:</span> <span class=s2>&#34;Production&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;folderUrl&#34;</span><span class=p>:</span> <span class=s2>&#34;/dashboards/f/prod-folder/production&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;provisioned&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;provisionedExternalId&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;folderTitle&#34;</span><span class=p>:</span> <span class=s2>&#34;Production&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;exportTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-12-19T11:00:00+08:00&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;permissions&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;id&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;dashboardId&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;created&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-01-01T00:00:00Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;updated&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-01-01T00:00:00Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;userId&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;userLogin&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;userEmail&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;teamId&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;team&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;role&#34;</span><span class=p>:</span> <span class=s2>&#34;Viewer&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;permission&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;permissionName&#34;</span><span class=p>:</span> <span class=s2>&#34;View&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;uid&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;slug&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;isFolder&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><h2 class=heading-element id=常见问题解决><span>常见问题解决</span>
<a href=#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=1-api密钥权限不足><span>1. API密钥权限不足</span>
<a href=#1-api%e5%af%86%e9%92%a5%e6%9d%83%e9%99%90%e4%b8%8d%e8%b6%b3 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 错误信息</span>
</span></span><span class=line><span class=cl><span class=o>[</span>ERROR<span class=o>]</span> API请求失败: /api/user <span class=o>(</span>退出码: 22<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 解决方法</span>
</span></span><span class=line><span class=cl><span class=c1># 1. 检查API密钥是否正确</span>
</span></span><span class=line><span class=cl><span class=c1># 2. 确保API密钥有足够权限（Admin或Editor）</span>
</span></span><span class=line><span class=cl><span class=c1># 3. 重新生成API密钥</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=2-网络连接问题><span>2. 网络连接问题</span>
<a href=#2-%e7%bd%91%e7%bb%9c%e8%bf%9e%e6%8e%a5%e9%97%ae%e9%a2%98 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 错误信息</span>
</span></span><span class=line><span class=cl><span class=o>[</span>ERROR<span class=o>]</span> 连接失败! 请检查URL和API密钥
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 解决方法</span>
</span></span><span class=line><span class=cl><span class=c1># 1. 检查Grafana URL是否正确</span>
</span></span><span class=line><span class=cl><span class=c1># 2. 确保Grafana服务正在运行</span>
</span></span><span class=line><span class=cl><span class=c1># 3. 检查网络连接</span>
</span></span><span class=line><span class=cl>curl -I http://localhost:3000</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=3-依赖缺失><span>3. 依赖缺失</span>
<a href=#3-%e4%be%9d%e8%b5%96%e7%bc%ba%e5%a4%b1 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 错误信息</span>
</span></span><span class=line><span class=cl><span class=o>[</span>ERROR<span class=o>]</span> 缺少必要依赖: jq
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 解决方法</span>
</span></span><span class=line><span class=cl><span class=c1># macOS</span>
</span></span><span class=line><span class=cl>brew install jq curl
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ubuntu/Debian</span>
</span></span><span class=line><span class=cl>sudo apt-get install jq curl
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># CentOS/RHEL</span>
</span></span><span class=line><span class=cl>sudo yum install jq curl</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=4-文件权限问题><span>4. 文件权限问题</span>
<a href=#4-%e6%96%87%e4%bb%b6%e6%9d%83%e9%99%90%e9%97%ae%e9%a2%98 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 错误信息</span>
</span></span><span class=line><span class=cl>bash: ./export-dashboards.sh: Permission denied
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 解决方法</span>
</span></span><span class=line><span class=cl>chmod +x export-dashboards.sh</span></span></code></pre></td></tr></table></div></div><h2 class=heading-element id=自动化和定时任务><span>自动化和定时任务</span>
<a href=#%e8%87%aa%e5%8a%a8%e5%8c%96%e5%92%8c%e5%ae%9a%e6%97%b6%e4%bb%bb%e5%8a%a1 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=1-创建定时备份><span>1. 创建定时备份</span>
<a href=#1-%e5%88%9b%e5%bb%ba%e5%ae%9a%e6%97%b6%e5%a4%87%e4%bb%bd class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 编辑crontab</span>
</span></span><span class=line><span class=cl>crontab -e
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加定时任务（每天凌晨2点备份）</span>
</span></span><span class=line><span class=cl><span class=m>0</span> <span class=m>2</span> * * * /path/to/export-dashboards.sh --api-key <span class=nv>$GRAFANA_API_KEY</span> --output /backup/grafana</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=2-集成到cicd><span>2. 集成到CI/CD</span>
<a href=#2-%e9%9b%86%e6%88%90%e5%88%b0cicd class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># .github/workflows/grafana-backup.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Grafana Dashboard Backup</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schedule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>cron</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;0 2 * * *&#39;</span><span class=w>  </span><span class=c># 每天凌晨2点</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>backup</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install dependencies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          sudo apt-get update
</span></span></span><span class=line><span class=cl><span class=sd>          sudo apt-get install -y jq curl</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Export Grafana dashboards</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>GRAFANA_API_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GRAFANA_API_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>GRAFANA_URL</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GRAFANA_URL }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          chmod +x export-dashboards.sh
</span></span></span><span class=line><span class=cl><span class=sd>          ./export-dashboards.sh --output ./backup</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Upload backup</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/upload-artifact@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>grafana-backup</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>./backup</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=3-docker化部署><span>3. Docker化部署</span>
<a href=#3-docker%e5%8c%96%e9%83%a8%e7%bd%b2 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-dockerfile data-lang=dockerfile><span class=line><span class=cl><span class=c># Dockerfile</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>FROM</span><span class=s> alpine:latest</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> apk add --no-cache bash curl jq python3 py3-pip<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> pip3 install requests<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>WORKDIR</span><span class=s> /app</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> export-dashboards.sh export-grafana-dashboards.py ./<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> chmod +x export-dashboards.sh export-grafana-dashboards.py<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>VOLUME</span> <span class=p>[</span><span class=s2>&#34;/backup&#34;</span><span class=p>]</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>CMD</span> <span class=p>[</span><span class=s2>&#34;./export-dashboards.sh&#34;</span><span class=p>,</span> <span class=s2>&#34;--output&#34;</span><span class=p>,</span> <span class=s2>&#34;/backup&#34;</span><span class=p>]</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 构建和运行</span>
</span></span><span class=line><span class=cl>docker build -t grafana-exporter .
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker run -v <span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span>/backup:/backup <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>           -e <span class=nv>GRAFANA_URL</span><span class=o>=</span>http://grafana.example.com <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>           -e <span class=nv>GRAFANA_API_KEY</span><span class=o>=</span>your-api-key <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>           grafana-exporter</span></span></code></pre></td></tr></table></div></div><h2 class=heading-element id=最佳实践><span>最佳实践</span>
<a href=#%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><ol><li><strong>定期备份</strong>: 建议每天自动备份仪表板</li><li><strong>版本控制</strong>: 将导出的JSON文件纳入Git管理</li><li><strong>权限管理</strong>: 使用专门的API密钥，定期轮换</li><li><strong>监控告警</strong>: 监控备份任务的执行状态</li><li><strong>测试恢复</strong>: 定期测试仪表板恢复流程</li><li><strong>文档记录</strong>: 记录重要仪表板的用途和配置说明</li></ol></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2024-12-19 11:00:00">更新于 2024-12-19&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 X" data-sharer=twitter data-url=https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/ data-title="Grafana API导出仪表板使用示例" data-hashtags=Grafana,API,示例,脚本><i class="fa-brands fa-x-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/ data-hashtag=Grafana><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 WhatsApp" data-sharer=whatsapp data-url=https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/ data-title="Grafana API导出仪表板使用示例" data-web><i class="fa-brands fa-whatsapp fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Line" data-sharer=line data-url=https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/ data-title="Grafana API导出仪表板使用示例"><svg class="icon" role="img" viewBox="0 0 24 24"><title>LINE</title><path d="M19.365 9.863c.349.0.63.285.63.631.0.345-.281.63-.63.63H17.61v1.125h1.755c.349.0.63.283.63.63.0.344-.281.629-.63.629h-2.386c-.345.0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.346.0.627.285.627.63.0.349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211.0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346.0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195.0.375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345.0.63.285.63.63v4.771zm-5.741.0c0 .344-.282.629-.631.629-.345.0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346.0.628.285.628.63v4.771zm-2.466.629H4.917c-.345.0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348.0.63.285.63.63v4.141h1.756c.348.0.629.283.629.63.0.344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943.0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"/></svg></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/ data-title="Grafana API导出仪表板使用示例"><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Myspace" data-sharer=myspace data-url=https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/ data-title="Grafana API导出仪表板使用示例" data-description><svg class="icon" role="img" viewBox="0 0 24 24"><title>Myspace</title><path d="M19.802 12.274A3.811 3.811.0 0023.62 8.47c0-2.101-1.71-3.795-3.818-3.795a3.816 3.816.0 00-3.818 3.81 3.817 3.817.0 003.818 3.811zm-8.602.705a3.43 3.43.0 003.435-3.424A3.43 3.43.0 0011.2 6.13 3.44 3.44.0 007.764 9.566 3.436 3.436.0 0011.2 13zm-7.8.635c1.71.0 3.093-1.38 3.093-3.081.0-1.704-1.395-3.084-3.105-3.084A3.086 3.086.0 00.3 10.539c0 1.7 1.387 3.078 3.095 3.078zm0 .705c-1.96.0-3.4 1.717-3.4 3.495v1.196c0 .17.138.31.31.31h6.18a.31.31.0 00.309-.31v-1.196c0-1.779-1.437-3.5-3.398-3.5zm7.8-.56c-2.18.0-3.78 1.915-3.78 3.891v1.331c0 .188.156.344.345.344h6.87a.344.344.0 00.342-.344V17.65c0-1.976-1.598-3.891-3.777-3.891zm8.602-.617c-2.422.0-4.197 2.126-4.197 4.323v1.477c0 .21.172.381.382.381h7.63c.21.0.383-.171.383-.381v-1.477c-.001-2.197-1.776-4.323-4.198-4.323z"/></svg></a>
<a href=javascript:void(0); title="分享到 Blogger" data-sharer=blogger data-url=https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/ data-title="Grafana API导出仪表板使用示例" data-description><i class="fa-brands fa-blogger fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://www.kbsonlong.com/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/ data-title="Grafana API导出仪表板使用示例"><i class="fa-brands fa-evernote fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/grafana/ class=post-tag title="标签 - Grafana">Grafana</a><a href=/tags/api/ class=post-tag title="标签 - API">API</a><a href=/tags/%E7%A4%BA%E4%BE%8B/ class=post-tag title="标签 - 示例">示例</a><a href=/tags/%E8%84%9A%E6%9C%AC/ class=post-tag title="标签 - 脚本">脚本</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/grafana-api%E5%AF%BC%E5%87%BA%E4%BB%AA%E8%A1%A8%E6%9D%BF%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97/ class=post-nav-item rel=prev title="Grafana API导出仪表板完整指南"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Grafana API导出仪表板完整指南</a><a href=/posts/grafana-alloy-discovery.kubernetes-%E9%85%8D%E7%BD%AE%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5%E6%8C%87%E5%8D%97/ class=post-nav-item rel=next title="Grafana Alloy Discovery.kubernetes 配置故障排查指南">Grafana Alloy Discovery.kubernetes 配置故障排查指南<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=giscus class=comment><script src=https://giscus.app/client.js data-repo=kbsonlong/sre data-repo-id=R_kgDOMFzwNA data-category=Announcements data-category-id=DIC_kwDOMFzwNM4Cn0gn data-mapping=title data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=zh-CN data-loading=lazy crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article><aside class=toc id=toc-auto aria-label=目录><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside></main><footer class=footer><div class=footer-container><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2018 - 2025</span><span class=author itemprop=copyrightHolder>
<a href=/></a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"><span class=site-time title=网站运行中……><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden=true></i><span class="run-times ms-1">网站运行中……</span></span></div><div class="footer-line visitor"><span id=busuanzi_container_site_uv title=总访客数><i class="fa-regular fa-user fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title=总访问量><i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div><div class="footer-line beian"><span class="icp footer-divider"><a target=_blank href=https://beian.miit.gov.cn/>粤ICP备18122209号</a></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label=查看评论><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/kbsonlong title="在 GitHub 上查看源代码" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true" width="56" height="56"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>该网站在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=preload href=/lib/katex/katex.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/katex/katex.min.css></noscript><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/algoliasearch/algoliasearch-lite.umd.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script src=/lib/pangu/pangu.min.js defer></script><script src=/lib/cell-watermark/watermark.min.js defer></script><script src=https://vercount.one/js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:10},comment:{enable:!0,expired:!1,giscus:{darkTheme:"dark",lightTheme:"light",origin:"https://giscus.app"}},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},enablePWA:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},pangu:{enable:!0,selector:"article"},search:{algoliaAppID:"WFOR67TML1",algoliaIndex:"along",algoliaSearchKey:"ea1fe535f9a7ae353f3922489c829cc1",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"},siteTime:"2018-12-18T16:15:22+08:00",version:"v0.3.20",watermark:{appendto:".wrapper>main",colspacing:30,content:'<img class="fixit-icon" src="/favicon-16x16.png" alt="FixIt logo" /> FixIt 主题',enable:!0,fontfamily:"inherit",fontsize:.85,height:21,opacity:.0125,rotate:15,rowspacing:60,width:150}}</script><script src=/js/theme.min.js defer></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","6272760969",{anonymize_ip:!0})</script><script src="https://www.googletagmanager.com/gtag/js?id=6272760969" async></script></body></html>